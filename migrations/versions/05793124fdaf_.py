"""empty message

Revision ID: 05793124fdaf
Revises: 
Create Date: 2018-07-31 13:40:33.384255

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = '05793124fdaf'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_index(op.f('ix_td_account_companyCode'), 'td_account', ['companyCode'], unique=False)
    op.drop_index('ix_td_account_companyCode', table_name='td_account')
    op.create_unique_constraint(None, 'td_account', ['id'])
    op.create_index(op.f('ix_td_app_companyCode'), 'td_app', ['companyCode'], unique=False)
    op.drop_index('ix_td_app_companyCode', table_name='td_app')
    op.drop_index('idx_td_banner_01', table_name='td_banner')
    op.drop_index('idx_td_banner_02', table_name='td_banner')
    op.drop_index('idx_td_banner_03', table_name='td_banner')
    op.create_index(op.f('ix_td_black_list_idx'), 'td_black_list', ['idx'], unique=False)
    op.create_index(op.f('ix_td_company_modifier'), 'td_company', ['modifier'], unique=False)
    op.create_index(op.f('ix_td_company_registrant'), 'td_company', ['registrant'], unique=False)
    op.drop_index('idx_td_company_02', table_name='td_company')
    op.drop_index('idx_td_company_03', table_name='td_company')
    op.create_index(op.f('ix_td_device_appCode'), 'td_device', ['appCode'], unique=False)
    op.create_index(op.f('ix_td_device_locationTermVersion'), 'td_device', ['locationTermVersion'], unique=False)
    op.create_index(op.f('ix_td_device_serviceTermVersion'), 'td_device', ['serviceTermVersion'], unique=False)
    op.create_index(op.f('ix_td_device_model'), 'td_device', ['model'], unique=False)
    op.drop_index('idx_td_device_02', table_name='td_device')
    op.drop_index('idx_td_device_03', table_name='td_device')
    op.drop_index('idx_td_device_04', table_name='td_device')
    op.drop_index('idx_td_device_05', table_name='td_device')
    op.alter_column('td_holotag', 'hVersion',
               existing_type=mysql.CHAR(length=11),
               nullable=True)
    op.create_index(op.f('ix_td_holotag_companyCode'), 'td_holotag', ['companyCode'], unique=True)
    op.create_index(op.f('ix_td_holotag_hVersion'), 'td_holotag', ['hVersion'], unique=False)
    op.create_index(op.f('ix_td_holotag_mappingCode'), 'td_holotag', ['mappingCode'], unique=False)
    op.create_index(op.f('ix_td_holotag_modifier'), 'td_holotag', ['modifier'], unique=False)
    op.create_index(op.f('ix_td_holotag_registrant'), 'td_holotag', ['registrant'], unique=False)
    op.drop_index('idx_td_holotag_01', table_name='td_holotag')
    op.drop_index('idx_td_holotag_02', table_name='td_holotag')
    op.drop_index('idx_td_holotag_03', table_name='td_holotag')
    op.drop_index('idx_td_holotag_04', table_name='td_holotag')
    op.drop_index('idx_td_holotag_05', table_name='td_holotag')
    op.drop_index('idx_td_holotag_06', table_name='td_holotag')
    op.create_unique_constraint(None, 'td_holotag', ['code'])
    op.alter_column('td_location_term', 'dtRegistered',
               existing_type=mysql.DATETIME(),
               nullable=True)
    op.create_index(op.f('ix_td_model_osType'), 'td_model', ['osType'], unique=False)
    op.create_index(op.f('ix_td_model_name'), 'td_model', ['name'], unique=True)
    op.drop_index('idx_id_model_02', table_name='td_model')
    op.drop_index('idx_td_model_01', table_name='td_model')
    op.create_index(op.f('ix_td_retailer_companyCode'), 'td_retailer', ['companyCode'], unique=False)
    op.create_index(op.f('ix_td_retailer_rtid'), 'td_retailer', ['rtid'], unique=False)
    op.drop_index('idx_td_retailer_id', table_name='td_retailer')
    op.alter_column('td_service_term', 'dtRegistered',
               existing_type=mysql.DATETIME(),
               nullable=True)
    op.alter_column('td_tag_version', 'dtModified',
               existing_type=mysql.DATETIME(),
               nullable=True)
    op.drop_index('idx_td_tag_ver_02', table_name='td_tag_version')
    op.drop_index('idx_td_tag_ver_03', table_name='td_tag_version')
    op.drop_index('idx_th_cert_01', table_name='th_certification')
    op.drop_index('idx_th_cert_02', table_name='th_certification')
    op.drop_index('idx_th_cert_03', table_name='th_certification')
    op.drop_index('idx_th_cert_04', table_name='th_certification')
    op.drop_index('idx_th_cert_06', table_name='th_certification')
    op.drop_index('idx_th_cert_07', table_name='th_certification')
    op.drop_index('idx_th_cert_08', table_name='th_certification')
    op.drop_index('idx_th_cert_09', table_name='th_certification')
    op.drop_index('idx_th_cert_10', table_name='th_certification')
    op.create_index(op.f('ix_th_report_companyCode'), 'th_report', ['companyCode'], unique=False)
    op.create_index(op.f('ix_th_report_deviceID'), 'th_report', ['deviceID'], unique=False)
    op.create_index(op.f('ix_th_report_dtCreated'), 'th_report', ['dtCreated'], unique=False)
    op.create_index(op.f('ix_th_report_hVersion'), 'th_report', ['hVersion'], unique=False)
    op.create_index(op.f('ix_th_report_tagCode'), 'th_report', ['tagCode'], unique=False)
    op.create_index(op.f('ix_th_report_answerer'), 'th_report', ['answerer'], unique=False)
    op.drop_index('idx_th_report_01', table_name='th_report')
    op.drop_index('idx_th_report_02', table_name='th_report')
    op.drop_index('idx_th_report_03', table_name='th_report')
    op.drop_index('idx_th_report_04', table_name='th_report')
    op.drop_index('idx_th_report_05', table_name='th_report')
    op.drop_index('idx_th_report_06', table_name='th_report')
    op.drop_constraint('fk_th_report_td_admin', 'th_report', type_='foreignkey')
    op.create_foreign_key(None, 'th_report', 'td_admin', ['answerer'], ['id'])
    op.add_column('ti_holotag', sa.Column('registarant', mysql.VARCHAR(length=45), nullable=False))
    op.create_index(op.f('ix_ti_holotag_tagIdx'), 'ti_holotag', ['tagIdx'], unique=False)
    op.create_index(op.f('ix_ti_holotag_modifier'), 'ti_holotag', ['modifier'], unique=False)
    op.create_index(op.f('ix_ti_holotag_registarant'), 'ti_holotag', ['registarant'], unique=False)
    op.drop_index('idx_ti_holotag_01', table_name='ti_holotag')
    op.drop_index('idx_ti_holotag_02', table_name='ti_holotag')
    op.drop_index('idx_ti_holotag_03', table_name='ti_holotag')
    op.drop_constraint('fk_ti_holotag_td_admin_01', 'ti_holotag', type_='foreignkey')
    op.create_foreign_key(None, 'ti_holotag', 'td_admin', ['registarant'], ['id'])
    op.drop_column('ti_holotag', 'registrant')
    op.create_index(op.f('ix_ts_active_unique_count_companyCode'), 'ts_active_unique_count', ['companyCode'], unique=False)
    op.create_index(op.f('ix_ts_active_unique_count_osType'), 'ts_active_unique_count', ['osType'], unique=False)
    op.create_index(op.f('ix_ts_active_unique_count_date'), 'ts_active_unique_count', ['date'], unique=False)
    op.drop_index('index_active01', table_name='ts_active_unique_count')
    op.create_index(op.f('ix_ts_appdown_daily_companyCode'), 'ts_appdown_daily', ['companyCode'], unique=False)
    op.drop_index('idx_ts_appdown_daily_01', table_name='ts_appdown_daily')
    op.create_index(op.f('ix_ts_cert_report_count_companyCode'), 'ts_cert_report_count', ['companyCode'], unique=False)
    op.create_index(op.f('ix_ts_cert_report_count_osType'), 'ts_cert_report_count', ['osType'], unique=False)
    op.create_index(op.f('ix_ts_cert_report_count_tagCode'), 'ts_cert_report_count', ['tagCode'], unique=False)
    op.create_index(op.f('ix_ts_cert_report_count_date'), 'ts_cert_report_count', ['date'], unique=False)
    op.create_index(op.f('ix_ts_cert_report_count_type'), 'ts_cert_report_count', ['type'], unique=False)
    op.drop_index('index_cert01', table_name='ts_cert_report_count')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_index('index_cert01', 'ts_cert_report_count', ['companyCode', 'tagCode', 'osType', 'type', 'date'], unique=False)
    op.drop_index(op.f('ix_ts_cert_report_count_type'), table_name='ts_cert_report_count')
    op.drop_index(op.f('ix_ts_cert_report_count_date'), table_name='ts_cert_report_count')
    op.drop_index(op.f('ix_ts_cert_report_count_tagCode'), table_name='ts_cert_report_count')
    op.drop_index(op.f('ix_ts_cert_report_count_osType'), table_name='ts_cert_report_count')
    op.drop_index(op.f('ix_ts_cert_report_count_companyCode'), table_name='ts_cert_report_count')
    op.create_index('idx_ts_appdown_daily_01', 'ts_appdown_daily', ['companyCode'], unique=False)
    op.drop_index(op.f('ix_ts_appdown_daily_companyCode'), table_name='ts_appdown_daily')
    op.create_index('index_active01', 'ts_active_unique_count', ['companyCode', 'osType', 'date'], unique=False)
    op.drop_index(op.f('ix_ts_active_unique_count_date'), table_name='ts_active_unique_count')
    op.drop_index(op.f('ix_ts_active_unique_count_osType'), table_name='ts_active_unique_count')
    op.drop_index(op.f('ix_ts_active_unique_count_companyCode'), table_name='ts_active_unique_count')
    op.add_column('ti_holotag', sa.Column('registrant', mysql.VARCHAR(length=45), nullable=False))
    op.drop_constraint(None, 'ti_holotag', type_='foreignkey')
    op.create_foreign_key('fk_ti_holotag_td_admin_01', 'ti_holotag', 'td_admin', ['registrant'], ['id'])
    op.create_index('idx_ti_holotag_03', 'ti_holotag', ['modifier'], unique=False)
    op.create_index('idx_ti_holotag_02', 'ti_holotag', ['registrant'], unique=False)
    op.create_index('idx_ti_holotag_01', 'ti_holotag', ['tagIdx'], unique=False)
    op.drop_index(op.f('ix_ti_holotag_registarant'), table_name='ti_holotag')
    op.drop_index(op.f('ix_ti_holotag_modifier'), table_name='ti_holotag')
    op.drop_index(op.f('ix_ti_holotag_tagIdx'), table_name='ti_holotag')
    op.drop_column('ti_holotag', 'registarant')
    op.drop_constraint(None, 'th_report', type_='foreignkey')
    op.create_foreign_key('fk_th_report_td_admin', 'th_report', 'td_admin', ['answerer'], ['id'], ondelete='CASCADE')
    op.create_index('idx_th_report_06', 'th_report', ['dtCreated'], unique=False)
    op.create_index('idx_th_report_05', 'th_report', ['answerer'], unique=False)
    op.create_index('idx_th_report_04', 'th_report', ['hVersion'], unique=False)
    op.create_index('idx_th_report_03', 'th_report', ['tagCode'], unique=False)
    op.create_index('idx_th_report_02', 'th_report', ['companyCode'], unique=False)
    op.create_index('idx_th_report_01', 'th_report', ['deviceID'], unique=False)
    op.drop_index(op.f('ix_th_report_answerer'), table_name='th_report')
    op.drop_index(op.f('ix_th_report_tagCode'), table_name='th_report')
    op.drop_index(op.f('ix_th_report_hVersion'), table_name='th_report')
    op.drop_index(op.f('ix_th_report_dtCreated'), table_name='th_report')
    op.drop_index(op.f('ix_th_report_deviceID'), table_name='th_report')
    op.drop_index(op.f('ix_th_report_companyCode'), table_name='th_report')
    op.create_index('idx_th_cert_10', 'th_certification', ['idx'], unique=False)
    op.create_index('idx_th_cert_09', 'th_certification', ['image'], unique=False)
    op.create_index('idx_th_cert_08', 'th_certification', ['random'], unique=False)
    op.create_index('idx_th_cert_07', 'th_certification', ['regionIdx'], unique=False)
    op.create_index('idx_th_cert_06', 'th_certification', ['dtCertificate'], unique=False)
    op.create_index('idx_th_cert_04', 'th_certification', ['companyCode'], unique=False)
    op.create_index('idx_th_cert_03', 'th_certification', ['hVersion'], unique=False)
    op.create_index('idx_th_cert_02', 'th_certification', ['tagCode'], unique=False)
    op.create_index('idx_th_cert_01', 'th_certification', ['deviceID'], unique=False)
    op.create_index('idx_td_tag_ver_03', 'td_tag_version', ['modifier'], unique=False)
    op.create_index('idx_td_tag_ver_02', 'td_tag_version', ['registrant'], unique=False)
    op.alter_column('td_tag_version', 'dtModified',
               existing_type=mysql.DATETIME(),
               nullable=False)
    op.alter_column('td_service_term', 'dtRegistered',
               existing_type=mysql.DATETIME(),
               nullable=False)
    op.create_index('idx_td_retailer_id', 'td_retailer', ['rtid'], unique=False)
    op.drop_index(op.f('ix_td_retailer_rtid'), table_name='td_retailer')
    op.drop_index(op.f('ix_td_retailer_companyCode'), table_name='td_retailer')
    op.create_index('idx_td_model_01', 'td_model', ['name'], unique=True)
    op.create_index('idx_id_model_02', 'td_model', ['name', 'osType'], unique=False)
    op.drop_index(op.f('ix_td_model_name'), table_name='td_model')
    op.drop_index(op.f('ix_td_model_osType'), table_name='td_model')
    op.alter_column('td_location_term', 'dtRegistered',
               existing_type=mysql.DATETIME(),
               nullable=False)
    op.drop_constraint(None, 'td_holotag', type_='unique')
    op.create_index('idx_td_holotag_06', 'td_holotag', ['mappingCode'], unique=False)
    op.create_index('idx_td_holotag_05', 'td_holotag', ['modifier'], unique=False)
    op.create_index('idx_td_holotag_04', 'td_holotag', ['hVersion'], unique=False)
    op.create_index('idx_td_holotag_03', 'td_holotag', ['registrant'], unique=False)
    op.create_index('idx_td_holotag_02', 'td_holotag', ['code', 'companyCode'], unique=True)
    op.create_index('idx_td_holotag_01', 'td_holotag', ['companyCode'], unique=False)
    op.drop_index(op.f('ix_td_holotag_registrant'), table_name='td_holotag')
    op.drop_index(op.f('ix_td_holotag_modifier'), table_name='td_holotag')
    op.drop_index(op.f('ix_td_holotag_mappingCode'), table_name='td_holotag')
    op.drop_index(op.f('ix_td_holotag_hVersion'), table_name='td_holotag')
    op.drop_index(op.f('ix_td_holotag_companyCode'), table_name='td_holotag')
    op.alter_column('td_holotag', 'hVersion',
               existing_type=mysql.CHAR(length=11),
               nullable=False)
    op.create_index('idx_td_device_05', 'td_device', ['locationTermVersion'], unique=False)
    op.create_index('idx_td_device_04', 'td_device', ['serviceTermVersion'], unique=False)
    op.create_index('idx_td_device_03', 'td_device', ['appCode'], unique=False)
    op.create_index('idx_td_device_02', 'td_device', ['model'], unique=False)
    op.drop_index(op.f('ix_td_device_model'), table_name='td_device')
    op.drop_index(op.f('ix_td_device_serviceTermVersion'), table_name='td_device')
    op.drop_index(op.f('ix_td_device_locationTermVersion'), table_name='td_device')
    op.drop_index(op.f('ix_td_device_appCode'), table_name='td_device')
    op.create_index('idx_td_company_03', 'td_company', ['modifier'], unique=False)
    op.create_index('idx_td_company_02', 'td_company', ['registrant'], unique=False)
    op.drop_index(op.f('ix_td_company_registrant'), table_name='td_company')
    op.drop_index(op.f('ix_td_company_modifier'), table_name='td_company')
    op.drop_index(op.f('ix_td_black_list_idx'), table_name='td_black_list')
    op.create_index('idx_td_banner_03', 'td_banner', ['bannerID'], unique=False)
    op.create_index('idx_td_banner_02', 'td_banner', ['modifier'], unique=False)
    op.create_index('idx_td_banner_01', 'td_banner', ['registrant'], unique=False)
    op.create_index('ix_td_app_companyCode', 'td_app', ['companyCode'], unique=False)
    op.drop_index(op.f('ix_td_app_companyCode'), table_name='td_app')
    op.drop_constraint(None, 'td_account', type_='unique')
    op.create_index('ix_td_account_companyCode', 'td_account', ['companyCode'], unique=False)
    op.drop_index(op.f('ix_td_account_companyCode'), table_name='td_account')
    # ### end Alembic commands ###
